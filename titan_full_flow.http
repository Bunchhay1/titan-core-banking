### ==================================================================================
### ğŸ› ï¸ CONFIGURATION (á€áŸ‚ááŸ’ášá„áŸ‹á“áŸáŸ‡áŸ– á›á»á” " " á…áŸá‰)
### ==================================================================================
@username_sender = titan_boss_011111111
@username_receiver = titan_staff_011111
@password = password123

// ... (á€á¼áŠáá¶á„á€áŸ’ášáŸ„á˜á‘á»á€áŠáŠáŸ‚á›) ...

### ==================================================================================
### ğŸš€ STEP 1: á…á»áŸ‡áˆáŸ’á˜áŸ„áŸ‡á¢áŸ’á“á€á•áŸ’á‰á¾ (SENDER REGISTRATION)
### ==================================================================================
POST http://100.117.33.69:8000/api/v1/auth/register
Content-Type: application/json

{
  "username": "{{username_sender}}",
  "password": "{{password}}",
  "fullName": "Big Boss Titan",
  "email": "{{username_sender}}@titan.com",
  "pin": "123456"
}

### ==================================================================================
### ğŸ” STEP 2: LOGIN á¢áŸ’á“á€á•áŸ’á‰á¾ (SENDER LOGIN & SAVE TOKEN)
### ==================================================================================
POST http://100.117.33.69:8000/api/v1/auth/login
Content-Type: application/json

{
  "username": "{{username_sender}}",
  "password": "{{password}}"
}

> {%
    if (response.status === 200) {
        client.global.set("token_sender", response.body.accessToken);
        client.log("âœ… SUCCESS: Token á”á¶á“ášá€áŸ’áŸá¶á‘á»á€á á¾á™! (" + response.body.accessToken.substring(0, 10) + "...)");
    } else {
        client.log("âŒ ERROR: Login á”ášá¶á‡áŸá™! áŸá¼á˜á†áŸ‚á€á˜á¾á› Username/Password á¬á˜á¾á› Step 1 á¡á¾á„áœá·á‰áŸ”");
    }
%}

### ==================================================================================
### ğŸ¦ STEP 3: á”á„áŸ’á€á¾áá‚áá“á¸á’á“á¶á‚á¶áš (CREATE ACCOUNT)
POST http://100.117.33.69:8000/api/v1/accounts
Authorization: Bearer {{token_sender}}
Content-Type: application/json

{
  "accountType": "SAVINGS",
  "accountName": "Titan Vault"
}

> {%
    // Script á“áŸáŸ‡á“á¹á„á‡á½á™á”áŸ’ášá¶á”áŸ‹á¢áŸ’á“á€ á”á¾á”á„áŸ’á€á¾áá˜á·á“á”á¶á“
    if (response.status === 201 || response.status === 200) {
        client.global.set("acc_sender", response.body.accountNumber);
        client.log("âœ… á‡áŸ„á‚á‡áŸá™! á›áŸáá€á»á„ááŸ’á˜á¸: " + response.body.accountNumber);
    } else {
        client.log("âŒ á”ášá¶á‡áŸá™! Error Code: " + response.status);
        client.log("á˜á¼á›á áŸáá»: " + JSON.stringify(response.body));
    }
%}
### ==================================================================================
POST http://localhost:8080/api/auth/register
Content-Type: application/json

{
  "username": "{{username_receiver}}",
  "password": "{{password}}",
  "fullName": "Staff Member",
  "email": "{{username_receiver}}@titan.com",
  "pin": "123456"
}

### ==================================================================================
### ğŸ” STEP 5: LOGIN á¢áŸ’á“á€á‘á‘á½á› (RECEIVER LOGIN)
### ==================================================================================
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "username": "{{username_receiver}}",
  "password": "{{password}}"
}

> {%
    client.global.set("token_receiver", response.body.accessToken);
%}

### ==================================================================================
### ğŸ¦ STEP 6: á”á„áŸ’á€á¾áá‚áá“á¸á±áŸ’á™á¢áŸ’á“á€á‘á‘á½á› (CREATE RECEIVER ACCOUNT)
### ==================================================================================
POST http://localhost:8080/api/accounts
Authorization: Bearer {{token_receiver}}
Content-Type: application/json

{
  "accountType": "PAYROLL",
  "accountName": "Salary Account"
}

> {%
    client.global.set("acc_receiver", response.body.accountNumber);
    client.log("âœ… Receiver Account: " + response.body.accountNumber);
%}

### ==================================================================================
### ğŸ’° STEP 7: áŠá¶á€áŸ‹á›á»á™á…á¼á›á‚áá“á¸á¢áŸ’á“á€á•áŸ’á‰á¾ (DEPOSIT $50,000)
### ==================================================================================
POST http://localhost:8080/api/transactions/deposit
Content-Type: application/json

{
  "toAccountNumber": "{{acc_sender}}",
  "amount": 50000.00
}

### ==================================================================================
### âœ… STEP 8: áœáŸášá›á»á™á’á˜áŸ’á˜áá¶ (LOW RISK - $500) -> á‚á½ášááŸ‚á‡áŸ„á‚á‡áŸá™
### ==================================================================================
POST http://localhost:8080/api/transactions/transfer
Authorization: Bearer {{token_sender}}
Content-Type: application/json

{
  "fromAccountNumber": "{{acc_sender}}",
  "toAccountNumber": "{{acc_receiver}}",
  "amount": 500.00,
  "pin": "123456",
  "note": "Coffee money â˜•"
}

### ==================================================================================
### ğŸš« STEP 9: áœáŸášá›á»á™á…áŸ’ášá¾á“ (HIGH RISK - $20,000) -> ááŸ’ášá¼áœááŸ‚ BLOCK áŠáŸ„á™ gRPC AI
### ==================================================================================
POST http://localhost:8080/api/transactions/transfer
Authorization: Bearer {{token_sender}}
Content-Type: application/json

{
  "fromAccountNumber": "{{acc_sender}}",
  "toAccountNumber": "{{acc_receiver}}",
  "amount": 20000.00,
  "pin": "123456",
  "note": "Secret money transfer ğŸ¤«"
}

### ==================================================================================
### ğŸ“œ STEP 10: á˜á¾á›á”áŸ’ášáœááŸ’áá·á”áŸ’ášáá·á”ááŸ’áá·á€á¶áš (GET TRANSACTION HISTORY)
### ==================================================================================
GET http://localhost:8080/api/transactions
Authorization: Bearer {{token_sender}}